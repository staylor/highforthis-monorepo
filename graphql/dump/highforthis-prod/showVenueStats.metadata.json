{"options":{"viewOn":"show","pipeline":[{"$match":{"attended":true}},{"$group":{"_id":"$venue","count":{"$sum":{"$numberInt":"1"}}}},{"$lookup":{"from":"venue","localField":"_id","foreignField":"_id","as":"venue_info"}},{"$project":{"entity":{"$arrayElemAt":["$venue_info",{"$numberInt":"0"}]},"count":{"$numberInt":"1"}}},{"$sort":{"count":{"$numberInt":"-1"},"entity.name":{"$numberInt":"1"}}}]},"indexes":[],"collectionName":"showVenueStats","type":"view"}